---
# This is a placeholder SealedSecret for Grafana MCP credentials.
# To create the actual sealed secret with your Grafana service account token, run:
#
# kubectl create secret generic grafana-mcp-credentials \
#   --namespace=monitoring \
#   --from-literal=GRAFANA_SERVICE_ACCOUNT_TOKEN='<your-token-from-grafana>' \
#   --dry-run=client -o yaml | \
#   kubeseal --cert etc/certs/pub-sealed-secrets.pem \
#   --format=yaml > monitoring/controllers/grafana-mcp/grafana-mcp-credentials-sealed-secret.yaml
#
# Prerequisites:
# 1. Create service account in Grafana UI: Administration â†’ Service Accounts
# 2. Name: grafana-mcp-server
# 3. Role: Editor (for full read/write access)
# 4. Generate token and use it in the command above
#
# Note: The Grafana URL is configured directly in the HelmRelease (release.yaml)
# as it is not sensitive information and is fixed for this cluster.
#
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: grafana-mcp-credentials
  namespace: monitoring
spec:
  encryptedData:
    # Replace this placeholder value by running the kubeseal command above
    # GRAFANA_SERVICE_ACCOUNT_TOKEN: <encrypted-value>
    placeholder: "placeholder"  # Temporary value until sealed secret is generated
  template:
    metadata:
      name: grafana-mcp-credentials
      namespace: monitoring
    type: Opaque
